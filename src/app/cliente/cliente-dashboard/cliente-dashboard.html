<div class="cliente-dashboard">
    <!-- Header with user info and logout -->
    <div class="top-bar">
        <span class="user-email">{{ currentUser?.email }}</span>
        <button class="btn-logout" (click)="logout()">Cerrar SesiÃ³n</button>
    </div>

    <div class="dashboard-header">
        <div class="header-content">
            <h1>ğŸ‘‹ Bienvenido, {{ currentUser?.email }}</h1>
            <p>Gestiona tus pagos y consulta tu historial</p>
        </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-container">
        <div class="spinner"></div>
        <p>Cargando tus datos...</p>
    </div>

    <!-- Statistics Grid -->
    <div *ngIf="!loading" class="stats-grid">
        <!-- Total Pagos Card -->
        <div class="stat-card">
            <div class="stat-icon">ğŸ’³</div>
            <div class="stat-content">
                <h3>Mis Pagos</h3>
                <p class="stat-number">{{ stats.totalPagos }}</p>
                <p class="stat-detail">Total registrados</p>
            </div>
        </div>

        <!-- Total Amount Card -->
        <div class="stat-card">
            <div class="stat-icon">ğŸ’°</div>
            <div class="stat-content">
                <h3>Monto Total</h3>
                <p class="stat-number">S/ {{ stats.totalAmount | number:'1.2-2' }}</p>
                <p class="stat-detail">Acumulado</p>
            </div>
        </div>

        <!-- Pending Pagos Card -->
        <div class="stat-card pending">
            <div class="stat-icon">â³</div>
            <div class="stat-content">
                <h3>Pendientes</h3>
                <p class="stat-number">{{ stats.pendingPagos }}</p>
                <p class="stat-detail">Por completar</p>
            </div>
        </div>

        <!-- Completed Pagos Card -->
        <div class="stat-card completed">
            <div class="stat-icon">âœ“</div>
            <div class="stat-content">
                <h3>Completados</h3>
                <p class="stat-number">{{ stats.completedPagos }}</p>
                <p class="stat-detail">Finalizados</p>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
        <h2>Acciones RÃ¡pidas</h2>
        <div class="actions-grid">
            <button class="action-btn primary" (click)="navigateToNewPago()">
                <span class="action-icon">â•</span>
                <span class="action-text">Nuevo Pago</span>
            </button>
            <button class="action-btn" (click)="navigateToMyPagos()">
                <span class="action-icon">ğŸ“‹</span>
                <span class="action-text">Ver Mis Pagos</span>
            </button>
            <button class="action-btn" (click)="navigateToProfile()">
                <span class="action-icon">ğŸ‘¤</span>
                <span class="action-text">Mi Perfil</span>
            </button>
        </div>
    </div>

    <!-- Recent Pagos -->
    <div class="recent-section">
        <div class="section-header">
            <h2>Pagos Recientes</h2>
            <button class="view-all-btn" (click)="navigateToMyPagos()">
                Ver todos â†’
            </button>
        </div>

        <div class="pagos-list">
            <div *ngFor="let pago of recentPagos" class="pago-item" (click)="navigateToPagoDetail(pago.id)">
                <div class="pago-icon" [class]="getEstadoClass(pago.estado)">
                    {{ getEstadoIcon(pago.estado) }}
                </div>
                <div class="pago-info">
                    <p class="pago-concepto">{{ pago.concepto }}</p>
                    <p class="pago-categoria">{{ pago.categoria }}</p>
                </div>
                <div class="pago-details">
                    <p class="pago-monto">S/ {{ pago.monto | number:'1.2-2' }}</p>
                    <p class="pago-fecha">
                        {{ pago.fecha | date:'dd/MM/yyyy' }}
                    </p>
                </div>
                <div class="pago-estado">
                    <span [class]="'estado-badge ' + getEstadoClass(pago.estado)">
                        {{ pago.estado }}
                    </span>
                </div>
            </div>

            <div *ngIf="recentPagos.length === 0" class="empty-state">
                <p class="empty-icon">ğŸ’³</p>
                <p class="empty-text">No tienes pagos registrados</p>
                <p class="empty-subtext">Comienza creando tu primer pago</p>
                <button class="empty-action-btn" (click)="navigateToNewPago()">
                    â• Crear Primer Pago
                </button>
            </div>
        </div>
    </div>
</div>