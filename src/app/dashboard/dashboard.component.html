<div class="cliente-dashboard">
  <!-- Header with user info and logout -->
  <div class="top-bar">
    <span class="user-email">
      <img *ngIf="currentUser?.photoURL" [src]="currentUser?.photoURL" alt="Foto de perfil" class="user-avatar-img">
      <span *ngIf="!currentUser?.photoURL" class="user-avatar">ğŸ‘¨â€ğŸ’¼</span>
      {{ currentUser?.email }}
    </span>
    <button class="btn-logout" (click)="logout()">
      <span class="logout-icon">ğŸšª</span>
      Cerrar SesiÃ³n
    </button>
  </div>

  <div class="dashboard-header">
    <div class="header-content">
      <h1>
        <span class="wave-emoji">ğŸ‘‹</span>
        Bienvenido, {{ currentUser?.firstName || currentUser?.email }}
      </h1>
      <p>ğŸ’ Gestiona tus pagos y consulta tu historial financiero</p>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>âš¡ Cargando tus datos...</p>
  </div>

  <!-- Statistics Grid -->
  <div *ngIf="!loading" class="stats-grid">
    <!-- Total Pagos Card -->
    <div class="stat-card">
      <div class="stat-icon">ğŸ“Š</div>
      <div class="stat-content">
        <h3>ğŸ’¼ Mis Pagos</h3>
        <p class="stat-number">{{ stats.totalPagos }}</p>
        <p class="stat-detail">Total registrados</p>
      </div>
    </div>

    <!-- Total Amount Card -->
    <div class="stat-card">
      <div class="stat-icon">ğŸ’µ</div>
      <div class="stat-content">
        <h3>ğŸ’° Monto Total</h3>
        <p class="stat-number">S/ {{ stats.totalAmount | number:'1.2-2' }}</p>
        <p class="stat-detail">Acumulado</p>
      </div>
    </div>

    <!-- Pending Pagos Card -->
    <div class="stat-card pending">
      <div class="stat-icon">â°</div>
      <div class="stat-content">
        <h3>âš ï¸ Pendientes</h3>
        <p class="stat-number">{{ stats.pendingPagos }}</p>
        <p class="stat-detail">Por completar</p>
      </div>
    </div>

    <!-- Completed Pagos Card -->
    <div class="stat-card completed">
      <div class="stat-icon">âœ…</div>
      <div class="stat-content">
        <h3>ğŸ¯ Completados</h3>
        <p class="stat-number">{{ stats.completedPagos }}</p>
        <p class="stat-detail">Finalizados</p>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <h2>âš¡ Acciones RÃ¡pidas</h2>
    <div class="actions-grid">
      <button class="action-btn primary" (click)="navigateToNewPago()">
        <span class="action-icon">â•</span>
        <span class="action-text">Nuevo Pago</span>
        <span class="action-glow"></span>
      </button>
      <button class="action-btn" (click)="navigateToMyPagos()">
        <span class="action-icon">ğŸ“‹</span>
        <span class="action-text">Ver Mis Pagos</span>
        <span class="action-glow"></span>
      </button>
      <button class="action-btn" (click)="navigateToCategories()">
        <span class="action-icon">ğŸ·ï¸</span>
        <span class="action-text">CategorÃ­as</span>
        <span class="action-glow"></span>
      </button>
      <button class="action-btn" (click)="navigateToStats()">
        <span class="action-icon">ğŸ“ˆ</span>
        <span class="action-text">EstadÃ­sticas</span>
        <span class="action-glow"></span>
      </button>
      <button class="action-btn" (click)="navigateToProfile()">
        <span class="action-icon">ğŸ‘¤</span>
        <span class="action-text">Mi Perfil</span>
        <span class="action-glow"></span>
      </button>
    </div>
  </div>

  <!-- Recent Pagos -->
  <div class="recent-section">
    <div class="section-header">
      <h2>ğŸ•’ Pagos Recientes</h2>
      <button class="view-all-btn" (click)="navigateToMyPagos()">
        Ver todos âœ
      </button>
    </div>

    <div class="pagos-list">
      <div *ngFor="let pago of recentPagos" class="pago-item" (click)="navigateToPagoDetail(pago.id)">
        <div class="pago-icon" [class]="getEstadoClass(pago.estado)">
          {{ getEstadoIcon(pago.estado) }}
        </div>
        <div class="pago-info">
          <p class="pago-concepto">{{ pago.concepto }}</p>
          <p class="pago-categoria">ğŸ·ï¸ {{ pago.categoria }}</p>
        </div>
        <div class="pago-details">
          <p class="pago-monto">ğŸ’µ S/ {{ pago.monto | number:'1.2-2' }}</p>
          <p class="pago-fecha">
            ğŸ“… {{ pago.fecha | date:'dd/MM/yyyy' }}
          </p>
        </div>
        <div class="pago-estado">
          <span [class]="'estado-badge ' + getEstadoClass(pago.estado)">
            {{ pago.estado }}
          </span>
        </div>
      </div>

      <div *ngIf="recentPagos.length === 0" class="empty-state">
        <p class="empty-icon">ğŸ’³</p>
        <p class="empty-text">No tienes pagos registrados</p>
        <p class="empty-subtext">ğŸš€ Comienza creando tu primer pago</p>
        <button class="empty-action-btn" (click)="navigateToNewPago()">
          â• Crear Primer Pago
        </button>
      </div>
    </div>
  </div>
</div>